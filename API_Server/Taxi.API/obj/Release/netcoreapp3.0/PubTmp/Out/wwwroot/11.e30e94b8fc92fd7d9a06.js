(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{R1GA:function(t,e,n){"use strict";n.r(e),n.d(e,"CustomerModule",(function(){return at}));var i=n("AytR"),o=n("2Vo4"),r=n("lJxs"),c=n("fXoL"),a=n("tk/3"),s=n("F7vF"),d=n("WpHV"),l=n("FbPW");let b=(()=>{class t{constructor(t,e,n,i){this.http=t,this.scheduleAdapter=e,this.orderAdapter=n,this.cusAdapter=i,this.scheduleList=new Array,this.scheduleOrder=new o.a(null)}searchSchedule(t){return this.scheduleList=[],this.http.post(i.a.apiUrl+"/api/customers/schedules/search",t).pipe(Object(r.a)(t=>(t.map(t=>{this.scheduleList.push(this.scheduleAdapter.adapt(t))}),this.scheduleList)))}bookDriver(t){return this.http.post(i.a.apiUrl+"/api/customers/booking",t)}getAllOrders(){return this.orderList=[],this.http.get(i.a.apiUrl+"/api/customers/orders").pipe(Object(r.a)(t=>(t.map(t=>{this.orderList.push(this.orderAdapter.adapt(t)),this.currentOrder=this.orderList.filter(t=>0==t.status&&0==t.isCancel)[0]}),console.log(this.orderList),this.orderList)))}getCurrentOrder(t){return this.http.get(`${i.a.apiUrl}/api/customers/currentorder/${t}`).pipe(Object(r.a)(t=>this.currentOrder=this.orderAdapter.adapt(t)))}getProfile(){return this.http.get(i.a.apiUrl+"/api/customers/profile").pipe(Object(r.a)(t=>(this.myProfile=this.cusAdapter.adapt(t),this.myProfile)))}removeOrder(t){return this.http.put(`${i.a.apiUrl}/api/customers/orders/cancel/${t}`,{})}getOrderbyOrderId(t){return this.http.get(`${i.a.apiUrl}/api/customers/orders/${t}`).pipe(Object(r.a)(t=>(this.orderById=this.orderAdapter.adapt(t),this.orderById)))}ratingOrder(t,e){return this.http.put(`${i.a.apiUrl}/api/customers/orders/rating/${t}`,e)}}return t.\u0275fac=function(e){return new(e||t)(c.Wb(a.b),c.Wb(s.a),c.Wb(d.a),c.Wb(l.a))},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac}),t})();var p=n("3Pt+"),g=n("PCNd"),u=n("ofXK"),h=n("jcQU"),f=n("vkgz"),m=n("PVyW");const v=function(t){return{width:t}};function _(t,e){if(1&t){const t=c.Tb();c.Sb(0,"div",1),c.Sb(1,"div",2),c.Sb(2,"div",3),c.Sb(3,"div",4),c.Sb(4,"h3"),c.Bc(5),c.Rb(),c.Rb(),c.Sb(6,"div",5),c.Sb(7,"h3"),c.Bc(8),c.Rb(),c.Rb(),c.Sb(9,"div",6),c.Sb(10,"h3"),c.Bc(11),c.Rb(),c.Sb(12,"h3"),c.Bc(13),c.ec(14,"date"),c.Rb(),c.Rb(),c.Rb(),c.Sb(15,"div",7),c.Sb(16,"div",8),c.Nb(17,"img",9),c.Rb(),c.Sb(18,"h3",10),c.Bc(19),c.Rb(),c.Sb(20,"div",11),c.Sb(21,"div",12),c.Sb(22,"div",13),c.Sb(23,"span"),c.Bc(24,"\u2605\u2605\u2605\u2605\u2605"),c.Rb(),c.Rb(),c.Sb(25,"div",14),c.Sb(26,"span"),c.Bc(27,"\u2605\u2605\u2605\u2605\u2605"),c.Rb(),c.Rb(),c.Rb(),c.Sb(28,"h3"),c.Bc(29),c.Rb(),c.Rb(),c.Rb(),c.Sb(30,"div",15),c.Sb(31,"button",16),c.Zb("click",(function(){return c.rc(t),c.dc().removeCurrentOrder()})),c.Nb(32,"i",17),c.Rb(),c.Rb(),c.Rb(),c.Rb()}if(2&t){const t=c.dc();c.Bb(5),c.Dc(" Start Province: ",t.myOrder.pickUpLocation," "),c.Bb(3),c.Dc(" Destination Province: ",t.myOrder.returnLocation," "),c.Bb(3),c.Dc(" Price: ",t.myOrder.price," "),c.Bb(2),c.Dc(" Start Time: ",c.gc(14,8,t.myOrder.created,"dd/mm/yyyy, hh:mm")," "),c.Bb(4),c.jc("src",t.myOrder.driverImg?t.myOrder.driverImg:"../../../../../assets/Images/profile.jpg",c.sc),c.Bb(2),c.Cc(t.myOrder.driverName),c.Bb(3),c.jc("ngStyle",c.nc(11,v,t.myOrder.driverRate/5*100+"%")),c.Bb(7),c.Cc(t.myOrder.driverRate)}}let x=(()=>{class t{constructor(t,e){this.cusService=t,this.authService=e}ngOnInit(){this.getCurrentOrder().subscribe()}getCurrentOrder(){return this.cusService.getCurrentOrder(this.authService.getCustomerId().toString()).pipe(Object(f.a)(t=>{this.myOrder=t}))}getOrderList(){return this.cusService.getAllOrders()}ngOnDestroy(){}removeCurrentOrder(){this.cusService.removeOrder(this.myOrder.orderId).subscribe(t=>window.alert(t)),this.myOrder=null}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(b),c.Mb(m.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-myorder"]],inputs:{driverImg:"driverImg"},decls:1,vars:1,consts:[["class","myOrder_MainContainer",4,"ngIf"],[1,"myOrder_MainContainer"],[1,"scheduleResult_container"],[1,"locationInformation_container"],[1,"startLocation","locateInfo"],[1,"destinationLocation","locateInfo"],[1,"slotTime","locateInfo"],[1,"driverInfo_container"],[1,"scheduleAva_container"],[3,"src"],[1,"driverName"],[1,"rating_Container"],[1,"star-ratings"],[1,"fill-ratings",3,"ngStyle"],[1,"empty-ratings"],[1,"orderAction_container"],[1,"orderScheduleButton",3,"click"],[1,"fas","fa-times"]],template:function(t,e){1&t&&c.zc(0,_,33,13,"div",0),2&t&&c.jc("ngIf",e.myOrder)},directives:[u.m,u.n],pipes:[u.e],styles:[".scheduleResult_container[_ngcontent-%COMP%]{margin-top:20px;display:flex;position:relative;justify-content:space-evenly;width:80%;background-color:#fff;border-radius:15px;height:182px}.locationInformation_container[_ngcontent-%COMP%]{width:69%;display:flex;justify-content:space-evenly;align-items:center}.locateInfo[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100px;justify-content:center;align-items:center;width:30%}.locateInfo[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;width:100%;padding:8px 10px}.driverInfo_container[_ngcontent-%COMP%]{width:17%;display:flex;flex-direction:column;justify-content:center;align-items:center}.scheduleAva_container[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;overflow:hidden}.scheduleAva_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.rating_Container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:50px;justify-content:center;align-items:center;padding-top:3px}.rating_Container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding-top:5px}.star-ratings[_ngcontent-%COMP%]{width:124px;align-self:center;unicode-bidi:bidi-override;color:#ccc;font-size:64px;position:relative;margin:0;padding:0}.star-ratings[_ngcontent-%COMP%]   .fill-ratings[_ngcontent-%COMP%]{width:100%;color:#e7711b;position:absolute;z-index:1;display:block;top:0;left:0;overflow:hidden;font-size:30px}.star-ratings[_ngcontent-%COMP%]   .fill-ratings[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.star-ratings[_ngcontent-%COMP%]   .empty-ratings[_ngcontent-%COMP%]{width:100%;display:block;z-index:0;font-size:30px}.orderAction_container[_ngcontent-%COMP%]{position:absolute;right:4%;top:41%;width:30px}.orderScheduleButton[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;background:none;outline:none;border:none;cursor:pointer;transition:all .4s ease-in}.orderScheduleButton[_ngcontent-%COMP%]:hover{background:rgba(196,19,19,.897);transition:all .4s ease-in}.orderScheduleButton[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px;color:rgba(196,19,19,.897);transition:all .4s ease-in}.orderScheduleButton[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff;transition:all .4s ease-in}.myOrder_MainContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:100px}"]}),t})();var C=n("lNOl"),P=n("oLsN"),O=n("jhN1"),S=n("0IaG");const M=["startProvince"],y=["endProvince"],B=function(t){return{width:t}};function R(t,e){if(1&t){const t=c.Tb();c.Sb(0,"div",19),c.Sb(1,"div",20),c.Sb(2,"div",21),c.Sb(3,"h3"),c.Bc(4),c.Rb(),c.Sb(5,"h3"),c.Bc(6),c.Rb(),c.Rb(),c.Sb(7,"div",22),c.Sb(8,"h3"),c.Bc(9),c.Rb(),c.Sb(10,"h3"),c.Bc(11),c.Rb(),c.Rb(),c.Sb(12,"div",23),c.Sb(13,"h3"),c.Bc(14),c.Rb(),c.Sb(15,"h3"),c.Bc(16),c.ec(17,"date"),c.Rb(),c.Rb(),c.Rb(),c.Sb(18,"div",24),c.Sb(19,"div",25),c.Nb(20,"img",26),c.Rb(),c.Sb(21,"h3",27),c.Bc(22),c.Rb(),c.Sb(23,"div",28),c.Sb(24,"div",29),c.Sb(25,"div",30),c.Sb(26,"span"),c.Bc(27,"\u2605\u2605\u2605\u2605\u2605"),c.Rb(),c.Rb(),c.Sb(28,"div",31),c.Sb(29,"span"),c.Bc(30,"\u2605\u2605\u2605\u2605\u2605"),c.Rb(),c.Rb(),c.Rb(),c.Sb(31,"h3"),c.Bc(32,"3.45"),c.Rb(),c.Rb(),c.Rb(),c.Sb(33,"div",32),c.Sb(34,"button",33),c.Zb("click",(function(){c.rc(t);const n=e.$implicit;return c.dc().orderSchedule(n.scheduleId)})),c.Nb(35,"i",34),c.Rb(),c.Rb(),c.Rb()}if(2&t){const t=e.$implicit;c.Bb(4),c.Dc(" Start Province: ",t.startProvince," "),c.Bb(2),c.Dc(" Start Address: ",t.startAddress," "),c.Bb(3),c.Dc(" Destination Province: ",t.destinationProvince," "),c.Bb(2),c.Dc(" Destination Address: ",t.destinationAddress," "),c.Bb(3),c.Dc(" Available Slot: ",t.availableSlot," "),c.Bb(2),c.Dc(" Start Time: ",c.gc(17,9,t.startTime,"dd/MM/yyy, hh:mm")," "),c.Bb(4),c.jc("src",t.imagePath?t.imagePath:"../../../../../assets/Images/profile.jpg",c.sc),c.Bb(2),c.Cc(t.driverName),c.Bb(3),c.jc("ngStyle",c.nc(12,B,(t.rateAverage/10*100?t.rateAverage:"0")+"%"))}}const w=function(t){return{small_label:t}};let k=(()=>{class t{constructor(t,e,n,i,o){this.province=t,this.formBuilder=e,this.cusService=n,this.sanitizer=i,this.dialog=o,this.submited=!1,this.searchProvinceList=this.province.getProvinceList(),this.fields={text:"provinceName",value:"provinceKey"},this.height="250px",this.value="",this.waterMark1="Start Province",this.waterMark2="Destination Province",this.fields2={text:"provinceName",value:"provinceKey"},this.value2=""}ngOnInit(){this.searchForm=this.formBuilder.group({reservation:["",p.z.required]})}onComboboxChange(t){if(this.startProvinceBox.text){let t=this.startProvinceBox.text.toString();this.startProvinceBox.value.toString(),console.log(t)}if(this.endProvinceBox.text){let t=this.endProvinceBox.text.toString();this.endProvinceBox.value.toString(),console.log(t)}}orderSchedule(t){let e=this.scheduleList.filter(e=>e.scheduleId==t)[0],n={pickupLocation:e.startProvince,returnLocation:e.destinationProvince,reservations:this.searchForm.controls.reservation.value,driverId:e.driverId.toString()};this.cusService.bookDriver(n).subscribe(t=>{console.log(t)}),this.cusService.scheduleOrder.next(e)}onSearch(){if(localStorage.getItem("currentUser"),this.submited=!0,this.searchForm.invalid||!this.startProvinceBox.value||!this.endProvinceBox.value)return void window.alert("Please input all the information");const t=this.dialog.open(C.a,{width:"380px",height:"250px",data:{isLoading:!0,loadingMessage:"Loding Data..."}});let e={pickupLocation:this.startProvinceBox.text.toString(),returnLocation:this.endProvinceBox.text.toString(),reservations:this.searchForm.controls.reservation.value};this.cusService.searchSchedule(e).subscribe(e=>{t.close(),this.scheduleList=e},t=>{this.dialog.open(C.a,{width:"380px",height:"180px",data:{isFailed:!0,failedMessage:"Sorry something happend!"}}),console.log(t),window.alert(t)})}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(P.a),c.Mb(p.f),c.Mb(b),c.Mb(O.b),c.Mb(S.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-search-booking"]],viewQuery:function(t,e){var n;1&t&&(c.Ec(M,!0),c.Ec(y,!0)),2&t&&(c.oc(n=c.ac())&&(e.startProvinceBox=n.first),c.oc(n=c.ac())&&(e.endProvinceBox=n.first))},decls:24,vars:15,consts:[[1,"searchPage_container"],[1,"searchBar_container"],[1,"login_form",3,"formGroup","ngSubmit"],[1,"infoInput_container"],[1,"province_container"],[1,"inputContainer"],["id","games",1,"provinceCombobox",3,"dataSource","fields","value","placeholder","popupHeight","change","valueChange"],["startProvince",""],["endProvince",""],[1,"reservations_container"],[1,"form_icon","fas","fa-chair"],["type","text","required","","formControlName","reservation",1,"login_input"],["reservation",""],[3,"ngClass"],[1,"focus-border"],[1,"searchButton_container"],["type","submit"],[1,"fas","fa-search"],["class","scheduleResult_container",4,"ngFor","ngForOf"],[1,"scheduleResult_container"],[1,"locationInformation_container"],[1,"startLocation","locateInfo"],[1,"destinationLocation","locateInfo"],[1,"slotTime","locateInfo"],[1,"driverInfo_container"],[1,"scheduleAva_container"],[3,"src"],[1,"driverName"],[1,"rating_Container"],[1,"star-ratings"],[1,"fill-ratings",3,"ngStyle"],[1,"empty-ratings"],[1,"orderAction_container"],[1,"orderScheduleButton",3,"click"],[1,"fas","fa-check"]],template:function(t,e){if(1&t&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"form",2),c.Zb("ngSubmit",(function(){return e.onSearch()})),c.Sb(3,"div",3),c.Sb(4,"div",4),c.Sb(5,"div",5),c.Sb(6,"ejs-combobox",6,7),c.Zb("change",(function(t){return e.onComboboxChange(t)}))("valueChange",(function(t){return e.value=t})),c.Rb(),c.Rb(),c.Rb(),c.Sb(8,"div",4),c.Sb(9,"div",5),c.Sb(10,"ejs-combobox",6,8),c.Zb("change",(function(t){return e.onComboboxChange(t)}))("valueChange",(function(t){return e.value2=t})),c.Rb(),c.Rb(),c.Rb(),c.Sb(12,"div",9),c.Sb(13,"div",5),c.Nb(14,"i",10),c.Nb(15,"input",11,12),c.Sb(17,"label",13),c.Bc(18,"Reservation"),c.Rb(),c.Nb(19,"span",14),c.Rb(),c.Rb(),c.Rb(),c.Sb(20,"div",15),c.Sb(21,"button",16),c.Nb(22,"i",17),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.zc(23,R,36,14,"div",18),c.Rb()),2&t){const t=c.pc(16);c.Bb(2),c.jc("formGroup",e.searchForm),c.Bb(4),c.jc("dataSource",e.searchProvinceList)("fields",e.fields)("value",e.value)("placeholder",e.waterMark1)("popupHeight",e.height),c.Bb(4),c.jc("dataSource",e.searchProvinceList)("fields",e.fields2)("value",e.value2)("placeholder",e.waterMark2)("popupHeight",e.height),c.Bb(7),c.jc("ngClass",c.nc(13,w,t.value)),c.Bb(6),c.jc("ngForOf",e.scheduleList)}},directives:[p.B,p.r,p.j,h.a,p.d,p.x,p.q,p.h,u.k,u.l,u.n],pipes:[u.e],styles:["h3[_ngcontent-%COMP%]{margin:0}.searchBar_container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;margin-bottom:50px;width:100%}.login_form[_ngcontent-%COMP%]{display:flex;justify-content:center;width:60%;background-color:#fff;border-radius:15px;align-items:center}.infoInput_container[_ngcontent-%COMP%]{justify-content:space-between;display:flex;width:70%}.province_container[_ngcontent-%COMP%]{width:21%;display:flex;align-items:center;height:50px}.searchButton_container[_ngcontent-%COMP%]{width:9%;display:flex;align-items:center;justify-content:center;height:50px}.searchButton_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;cursor:pointer;background:none;outline:none}.searchButton_container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px;color:#7b7880;transition:all .5s ease-in-out}.searchButton_container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#5a28b8;transition:all .5s ease-in-out}.login_input[_ngcontent-%COMP%]{width:100%;border:0;padding:4px 0;border-bottom:1px solid #ccc;z-index:1;background-color:initial}.login_input[_ngcontent-%COMP%]:focus{outline:none}.login_input[_ngcontent-%COMP%] ~ .focus-border[_ngcontent-%COMP%]{position:absolute;bottom:0;left:50%;width:0;height:2px;background-color:#b386ec;transition:.4s}.login_input[_ngcontent-%COMP%]:focus ~ .focus-border[_ngcontent-%COMP%]{width:100%;transition:.4s;left:0}.login_input[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]{position:absolute;font-size:16px;left:0;width:100%;top:4px;color:#aaa;transition:.3s;z-index:0;letter-spacing:.5px}.login_input[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], .login_input[_ngcontent-%COMP%] ~ .small_label[_ngcontent-%COMP%]{top:-14px;font-size:12px;color:#b386ec;transition:.3s}.inputContainer[_ngcontent-%COMP%]{display:flex;position:relative;width:100%}.reservations_container[_ngcontent-%COMP%]{width:22%;display:flex;align-items:center}.form_icon[_ngcontent-%COMP%]{position:absolute;left:-17%;top:21%;font-size:20px;color:rgba(75,60,88,.815)}.rating_Container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:50px;justify-content:center;align-items:center;padding-top:3px}.rating_Container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding-top:5px}.star-ratings[_ngcontent-%COMP%]{width:124px;align-self:center;unicode-bidi:bidi-override;color:#ccc;font-size:64px;position:relative;margin:0;padding:0}.star-ratings[_ngcontent-%COMP%]   .fill-ratings[_ngcontent-%COMP%]{width:100%;color:#e7711b;position:absolute;z-index:1;display:block;top:0;left:0;overflow:hidden;font-size:30px}.star-ratings[_ngcontent-%COMP%]   .fill-ratings[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.star-ratings[_ngcontent-%COMP%]   .empty-ratings[_ngcontent-%COMP%]{width:100%;display:block;z-index:0;font-size:30px}.scheduleResult_container[_ngcontent-%COMP%]{margin-top:20px;display:flex;position:relative;justify-content:space-evenly;width:80%;background-color:#fff;border-radius:15px;height:182px}.locationInformation_container[_ngcontent-%COMP%]{width:69%;display:flex;justify-content:space-evenly;align-items:center}.locateInfo[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100px;justify-content:center;align-items:center;width:30%}.locateInfo[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:15px;width:100%;padding:8px 10px}.driverInfo_container[_ngcontent-%COMP%]{width:17%;display:flex;flex-direction:column;justify-content:center;align-items:center}.scheduleAva_container[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;overflow:hidden}.scheduleAva_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.searchPage_container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;align-items:center}.orderAction_container[_ngcontent-%COMP%]{position:absolute;right:4%;top:41%;width:30px}.orderScheduleButton[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;background:none;outline:none;border:none;cursor:pointer;transition:all .4s ease-in}.orderScheduleButton[_ngcontent-%COMP%]:hover{background:#6540b9;transition:all .4s ease-in}.orderScheduleButton[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px;color:#6540b9;transition:all .4s ease-in}.orderScheduleButton[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#fff;transition:all .4s ease-in}"]}),t})();var I=n("jF+W"),j=n("Dh3D"),L=n("+0xr"),z=n("M9IT"),D=n("EVdn");function N(t,e){if(1&t&&(c.Sb(0,"div",3),c.Sb(1,"div",4),c.Nb(2,"img",5),c.Rb(),c.Sb(3,"div",6),c.Sb(4,"div",7),c.Sb(5,"p",8),c.Bc(6,"User Name: "),c.Rb(),c.Sb(7,"p",9),c.Bc(8),c.Rb(),c.Rb(),c.Sb(9,"div",7),c.Sb(10,"p",8),c.Bc(11,"Name: "),c.Rb(),c.Sb(12,"p",9),c.Bc(13),c.Rb(),c.Rb(),c.Sb(14,"div",7),c.Sb(15,"p",8),c.Bc(16,"Phone: "),c.Rb(),c.Sb(17,"p",9),c.Bc(18),c.Rb(),c.Rb(),c.Sb(19,"div",7),c.Sb(20,"p",8),c.Bc(21,"Email: "),c.Rb(),c.Sb(22,"p",9),c.Bc(23),c.Rb(),c.Rb(),c.Sb(24,"div",7),c.Sb(25,"p",8),c.Bc(26,"Address: "),c.Rb(),c.Sb(27,"p",9),c.Bc(28),c.Rb(),c.Rb(),c.Rb(),c.Sb(29,"button",10),c.Bc(30,"Edit Profile"),c.Rb(),c.Rb()),2&t){const t=c.dc();c.Bb(2),c.jc("src",t.myProfile.imagePath?t.myProfile.imagePath:"../../../../../assets/Images/home1_2.jpg",c.sc),c.Bb(6),c.Cc(t.myProfile.userName),c.Bb(5),c.Cc(t.myProfile.name),c.Bb(5),c.Cc(t.myProfile.phone),c.Bb(5),c.Cc(t.myProfile.email),c.Bb(5),c.Cc(t.myProfile.address)}}function A(t,e){1&t&&(c.Sb(0,"th",28),c.Bc(1," Order Id "),c.Rb())}function T(t,e){if(1&t&&(c.Sb(0,"td",29),c.Bc(1),c.Rb()),2&t){const t=e.$implicit;c.Bb(1),c.Cc(t.orderId)}}function F(t,e){1&t&&(c.Sb(0,"th",28),c.Bc(1," Start Province "),c.Rb())}function $(t,e){if(1&t&&(c.Sb(0,"td",29),c.Bc(1),c.Rb()),2&t){const t=e.$implicit;c.Bb(1),c.Cc(t.pickUpLocation)}}function U(t,e){1&t&&(c.Sb(0,"th",28),c.Bc(1," Destination Province "),c.Rb())}function H(t,e){if(1&t&&(c.Sb(0,"td",29),c.Bc(1),c.Rb()),2&t){const t=e.$implicit;c.Bb(1),c.Cc(t.returnLocation)}}function G(t,e){1&t&&(c.Sb(0,"th",28),c.Bc(1,"Rate"),c.Rb())}function Q(t,e){if(1&t&&(c.Sb(0,"td",29),c.Bc(1),c.Rb()),2&t){const t=e.$implicit;c.Bb(1),c.Cc(t.rate)}}function W(t,e){1&t&&(c.Sb(0,"th",28),c.Bc(1,"Date"),c.Rb())}function K(t,e){if(1&t&&(c.Sb(0,"td",29),c.Bc(1),c.ec(2,"date"),c.Rb()),2&t){const t=e.$implicit;c.Bb(1),c.Cc(c.gc(2,1,t.created,"dd/MM/yyyy"))}}function Z(t,e){1&t&&(c.Sb(0,"th",28),c.Bc(1,"Price"),c.Rb())}function E(t,e){if(1&t&&(c.Sb(0,"td",29),c.Bc(1),c.Rb()),2&t){const t=e.$implicit;c.Bb(1),c.Cc(t.price)}}function J(t,e){1&t&&c.Nb(0,"tr",30)}function V(t,e){if(1&t){const t=c.Tb();c.Sb(0,"tr",31),c.Zb("click",(function(e){return c.rc(t),c.dc(2).rowSelected(e)})),c.Rb()}}const q=function(){return[5,10]};function X(t,e){if(1&t&&(c.Sb(0,"div",11),c.Sb(1,"div",12),c.Sb(2,"h4",13),c.Bc(3,"History Order"),c.Rb(),c.Sb(4,"p",14),c.Bc(5,"Here is a subtitle for this table"),c.Rb(),c.Rb(),c.Sb(6,"div",15),c.Sb(7,"table",16),c.Qb(8,17),c.zc(9,A,2,0,"th",18),c.zc(10,T,2,1,"td",19),c.Pb(),c.Qb(11,20),c.zc(12,F,2,0,"th",18),c.zc(13,$,2,1,"td",19),c.Pb(),c.Qb(14,21),c.zc(15,U,2,0,"th",18),c.zc(16,H,2,1,"td",19),c.Pb(),c.Qb(17,22),c.zc(18,G,2,0,"th",18),c.zc(19,Q,2,1,"td",19),c.Pb(),c.Qb(20,23),c.zc(21,W,2,0,"th",18),c.zc(22,K,3,4,"td",19),c.Pb(),c.Qb(23,24),c.zc(24,Z,2,0,"th",18),c.zc(25,E,2,1,"td",19),c.Pb(),c.zc(26,J,1,0,"tr",25),c.zc(27,V,1,0,"tr",26),c.Rb(),c.Nb(28,"mat-paginator",27),c.Rb(),c.Rb()),2&t){const t=c.dc();c.Bb(7),c.jc("dataSource",t.orderDataSource),c.Bb(19),c.jc("matHeaderRowDef",t.displayedColumns),c.Bb(1),c.jc("matRowDefColumns",t.displayedColumns),c.Bb(1),c.jc("pageSizeOptions",c.mc(4,q))}}let Y=(()=>{class t{constructor(t,e){this.cusService=t,this.dialog=e,this.customerInfo=new Map,this.displayedColumns=["orderId","pickUpLocation","returnLocation","rate","created","price"]}ngOnInit(){const t=this.dialog.open(C.a,{width:"380px",height:"250px",data:{isLoading:!0,loadingMessage:"Loding Data..."}});this.cusService.getProfile().subscribe(t=>this.myProfile=t),this.cusService.getAllOrders().subscribe(e=>{t.close(),this.historyOrderList=e,this.orderDataSource=new L.k(this.historyOrderList),this.orderDataSource.sort=this.sort,this.orderDataSource.paginator=this.paginator})}rowSelected(t){const e=D(t.target).closest(".mat-row");this.selectedOrderId=D(e).find(".mat-column-orderId").text(),this.cusService.getOrderbyOrderId(this.selectedOrderId).subscribe(t=>{this.selectedOrder=t,this.selectedOrder.rate?this.dialog.open(C.a,{width:"380px",height:"200px",data:{isLoading:!1,isSuccess:!1,isFailed:!1,isAlreadyRate:!0}}):this.openDialog()})}openDialog(){this.dialog.open(I.a,{width:"380px",height:"500px",data:{isLoading:!1,isDeleting:!1,isReviewing:!0,driverName:this.selectedOrder.driverName,driverAvatar:this.selectedOrder.driverImg}}).afterClosed().subscribe(t=>{if(console.log("The dialog was closed"),t){console.log(t.rate),console.log(t.rateContent);let e={rate:t.rate,rateContent:t.rateContent};const n=this.dialog.open(C.a,{width:"380px",height:"200px",data:{isLoading:!0,isSuccess:!1,isFailed:!1}});this.cusService.ratingOrder(this.selectedOrderId,e).subscribe(t=>{n.close(),this.dialog.open(C.a,{width:"380px",height:"230px",data:{isLoading:!1,isSuccess:!0,isFailed:!1,successMessage:"successful rate driver"}}).afterClosed().subscribe(t=>{this.ngOnInit()})},t=>{console.log(t)})}})}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(b),c.Mb(S.b))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-customer-profile"]],viewQuery:function(t,e){var n;1&t&&(c.vc(j.a,!0),c.vc(z.a,!0)),2&t&&(c.oc(n=c.ac())&&(e.sort=n.first),c.oc(n=c.ac())&&(e.paginator=n.first))},decls:3,vars:2,consts:[[1,"cus_mainpage"],["class","cusProfile_container",4,"ngIf"],["class","customerList_tableContainer",4,"ngIf"],[1,"cusProfile_container"],[1,"avatar_container"],[3,"src"],[1,"cusInfo_container"],[1,"cusinfo"],[1,"infoTitle"],[1,"infoDetail"],[1,"header_button"],[1,"customerList_tableContainer"],[1,"listHeader","listHeader_red"],[1,"listTitle"],[1,"listCategory"],[1,"tableContainer"],["mat-table","","matSort","",1,"adminCusTable",3,"dataSource"],["matColumnDef","orderId"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","pickUpLocation"],["matColumnDef","returnLocation"],["matColumnDef","rate"],["matColumnDef","created"],["matColumnDef","price"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","cusProfile_orderRow",3,"click",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"cusProfile_tableNavigator",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row","",1,"cusProfile_orderRow",3,"click"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.zc(1,N,31,6,"div",1),c.zc(2,X,29,5,"div",2),c.Rb()),2&t&&(c.Bb(1),c.jc("ngIf",e.myProfile),c.Bb(1),c.jc("ngIf",e.historyOrderList))},directives:[u.m,L.j,j.a,L.c,L.e,L.b,L.g,L.i,z.a,L.d,j.b,L.a,L.f,L.h],pipes:[u.e],styles:['.cus_mainpage[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;width:100%;margin-top:40px}.avatar_container[_ngcontent-%COMP%]{width:130px;height:130px;align-self:center;border-radius:50%;overflow:hidden;margin-bottom:42px;margin-top:38px}.avatar_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.cusProfile_container[_ngcontent-%COMP%]{background-color:#fff;display:flex;flex-direction:column;width:27%;border-radius:10px;box-shadow:0 0 10px 4px rgba(115,65,180,.1);height:560px}.avatar_bigcontainer[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;height:200px}.cusInfo_container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:80%;align-items:center;align-self:center}.cusinfo[_ngcontent-%COMP%]{width:100%;margin-top:5px;display:flex;justify-content:space-evenly;position:relative}.cusinfo[_ngcontent-%COMP%]:before{content:"";position:absolute;left:3%;right:0;top:-9px;height:1px;width:82%;background:radial-gradient(ellipse at left,#959595 0,hsla(0,0%,100%,0) 70%)}.infoTitle[_ngcontent-%COMP%]{width:30%}.infoDetail[_ngcontent-%COMP%]{width:60%}.header_button[_ngcontent-%COMP%]{font-size:15px;z-index:1;position:relative;color:#fff;padding:8px;border-radius:8px;background:transparent;overflow:hidden;border:none;margin-top:7%;width:120px;align-self:center;cursor:pointer}.header_button[_ngcontent-%COMP%]:before{z-index:-1;content:"";position:absolute;width:300%;height:131%;top:-14%;left:-129%;background:-webkit-linear-gradient(right,#21d4fd,#b721ff,#21d4fd,#b721ff);transition:all .3s ease-in-out}.header_button[_ngcontent-%COMP%]:focus{outline:none}.header_button[_ngcontent-%COMP%]:hover:before{left:-8%}.customerList_tableContainer[_ngcontent-%COMP%]{width:60%;display:flex;justify-content:center;margin-top:111px;position:relative;box-shadow:0 1px 4px 0 rgba(0,0,0,.14);background:#fff;border-radius:5px}.listHeader[_ngcontent-%COMP%]{background:linear-gradient(60deg,#66bb6a,#43a047);box-shadow:0 4px 20px 0 rgba(0,0,0,.14),0 7px 10px -5px rgba(76,175,80,.4);padding:8px 20px;border-radius:5px;position:absolute;width:90%;top:-68px;left:3%}.listTitle[_ngcontent-%COMP%]{color:#fff;font-size:21px;margin:0;padding:10px 0}.listCategory[_ngcontent-%COMP%]{color:hsla(0,0%,100%,.753);font-size:15px}.adminCusTable[_ngcontent-%COMP%]{width:100%}.adminCusTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;height:50px}.adminCusTable[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{margin-top:15px;height:45px;border:1px solid #000}.adminCusTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.tableContainer[_ngcontent-%COMP%]{padding:30px 20px 20px;width:100%}.cusProfile_tableNavigator[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0}.cusProfile_orderRow[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:hsla(0,0%,52.5%,.233)}']}),t})();var tt=n("tyNb"),et=n("Kcz0");function nt(t,e){if(1&t&&(c.Sb(0,"li",6),c.Sb(1,"a",7),c.Sb(2,"i",8),c.Bc(3),c.Rb(),c.Sb(4,"p"),c.Bc(5),c.Rb(),c.Rb(),c.Rb()),2&t){const t=e.$implicit;c.Db("",t.class," nav-item"),c.lc("routerLink","./",t.path,""),c.Bb(3),c.Cc(t.icon),c.Bb(2),c.Cc(t.title)}}let it=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["app-customer-sidebar"]],inputs:{role:"role",userName:"userName",customerRoute:"customerRoute"},decls:9,vars:4,consts:[[1,"sideBar_container"],[1,"sideBar_overlay"],[1,"sideBar_logo",3,"taxiColor"],[1,"welcomeTitle"],[1,"sideBar_nav"],["routerLinkActive","active",3,"routerLink","class",4,"ngFor","ngForOf"],["routerLinkActive","active",3,"routerLink"],[1,"nav-link"],[1,"material-icons"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Nb(1,"div",1),c.Nb(2,"app-app-logo",2),c.Sb(3,"h1",3),c.Bc(4),c.Nb(5,"br"),c.Bc(6),c.Rb(),c.Sb(7,"ul",4),c.zc(8,nt,6,6,"li",5),c.Rb(),c.Rb()),2&t&&(c.Bb(2),c.jc("taxiColor","black"),c.Bb(2),c.Dc("Welcome ",e.role,""),c.Bb(2),c.Dc(" ",e.userName,""),c.Bb(2),c.jc("ngForOf",e.customerRoute))},directives:[et.a,u.l,tt.d,tt.c],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}.sideBar_container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:13%;height:100vh;box-shadow:0 16px 38px -12px rgba(0,0,0,.56),0 4px 25px 0 rgba(0,0,0,.12),0 8px 10px -5px rgba(0,0,0,.2);background-color:#fff;position:fixed;background-image:url(customerBackground.654875d3ffecf3de5344.jpg);background-size:cover}.sideBar_container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:76%;margin-bottom:8%;align-self:center}.sideBar_logo[_ngcontent-%COMP%]{display:flex;align-items:center;padding-left:17%;margin:16px 0}.sideBar_nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;list-style-type:none;width:100%;height:500px;overflow:hidden}.nav-item[_ngcontent-%COMP%]{margin:2% 5%;width:86%;padding-top:4%;padding-left:3%;outline:none}.nav-item[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,74.5%,.445);cursor:pointer}.nav-link[_ngcontent-%COMP%]{display:flex;text-decoration:none;justify-content:flex-start;background-color:initial;color:#3c4858}.nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8%}.nav-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-top:2%}.active[_ngcontent-%COMP%]{background-color:#5c23a8}.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.active[_ngcontent-%COMP%]:hover{background-color:#5c23a8}.welcomeTitle[_ngcontent-%COMP%]{font-size:15px;display:flex;justify-content:center;text-align:center;border-top:1px solid grey;border-bottom:1px solid grey;width:75%;align-self:center;margin:0 0 10px}.sideBar_overlay[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.58);width:100%;height:100%;position:absolute;z-index:-10}"]}),t})();var ot=n("8ifR");const rt=[{path:"",component:(()=>{class t{constructor(t,e,n){this.authService=t,this.router=e,this.route=n,this.userName=this.authService.getUserName(),this.userRole=this.authService.getRole()}ngOnInit(){this.customerRoute=[{path:"/profile_page",title:"Profile",icon:"person",class:""},{path:"/seach_booking",title:"Search Booking",icon:"directions_car",class:""},{path:"/my_order",title:"My Order",icon:"assignment_turned_in",class:""}],this.router.navigate(["profile_page"],{relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(m.a),c.Mb(tt.b),c.Mb(tt.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-customer"]],decls:5,vars:4,consts:[[1,"driver_container"],[1,"driver_sidebar",3,"customerRoute","role","userName"],[1,"center_page"],[3,"taxiAppRoute"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Nb(1,"app-customer-sidebar",1),c.Sb(2,"div",2),c.Nb(3,"app-navbar",3),c.Nb(4,"router-outlet"),c.Rb(),c.Rb()),2&t&&(c.Bb(1),c.jc("customerRoute",e.customerRoute)("role",e.userRole)("userName",e.userName),c.Bb(2),c.jc("taxiAppRoute",e.customerRoute))},directives:[it,ot.a,tt.g],styles:[".driver_container[_ngcontent-%COMP%]{display:flex;width:100%;height:1600px;background-color:#eee}.driver_sidebar[_ngcontent-%COMP%]{width:13%;height:100%}.center_page[_ngcontent-%COMP%]{width:87%;display:flex;flex-direction:column;background-image:url(DriverBackground.a9afc26232486876e67a.jpg);background-repeat:no-repeat;background-position:50%;background-size:cover}"]}),t})(),children:[{path:"profile_page",component:Y},{path:"seach_booking",component:k},{path:"my_order",component:x}]}];let ct=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[tt.f.forChild(rt)],tt.f]}),t})(),at=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},providers:[b],imports:[[u.c,ct,g.a,p.k,p.w,h.b]]}),t})()}}]);